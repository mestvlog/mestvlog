<template name="videobox">
  <div class="container">
  <div class="row">
    <div class="col-md-9">
    <p class="videoheader"><center><strong>RECENT VIDEOS</strong></center></p>
      <div class="row">
       {{#each videos}}
        <div class="col-md-6">
          <div id="video-thumbnail">
             <a href="#" data-action="showVideo" id="{{_id}}">
                <video src="{{videoUrl}}" width="400"></video>
             </a>
          </div>
          
          <p class="videotitle"><strong>{{caption}}</strong></p>
          <p>by {{username _id}}</p>
          <ul class="list-inline">
            <li><i class="fa fa-clock-o"></i> {{timeStamp _id}}</li>
            <li><i class="glyphicon glyphicon-comment"></i>
              {{commentsCount _id}}
            </li>
            <li><i class="glyphicon glyphicon-share"></i> 14 Shares</li>
          </ul>
        </div>
        {{/each}}
        
         
  </div>
  </div>
  {{> sidebar}}
  </div>
  </div>
  {{> videoOverlayTemplate}}
</template>


 <template name="videoOverlayTemplate">
  <div id="videoOverlay">
    <a href="#" class="button-close" data-action="overlay-close">Ã—</a>
        <div class="container">
          <div class="row">
            <div class="col-sm-12">
                <h3>{{userVideo.caption}}</h3>
                <video src="{{userVideo.videoUrl}}" width="800" controls></video>
                  <div id="video-para">
                    <p>by {{username userVideo._id}}</p>
                  </div>
                  <div id="video-details">
                     <ul class="list-inline">
                          <li><i class="fa fa-clock-o"></i> {{timeStamp userVideo._id}}</li>
                          <li><i class="glyphicon glyphicon-comment"></i>
                          {{commentsCount userVideo._id}}
                          </li>
                          <li><i class="glyphicon glyphicon-share"></i> 14 Shares</li>
                      </ul>
                  </div>
            </div>
           </div>
           <div class="row">
                {{#if isComments userVideo._id}}
                  <div class="col-sm-12 col-sm-offset-4">
                    <a href="#" data-action='show-comments' id="{{userVideo._id}}" data-default-text="Show Comments" data-new-text="Hide Comments">
                      <div id="show-comments">
                      <p>Show Comments</p>
                      </div>
                    </a>
                  </div>
                  {{else}}
                  <div class="col-sm-12">
                     <h5>There are no comments for this video</h5>
                     <a href="#" data-action='comment-btn' class="btn btn-primary" 
                     id="{{userVideo._id}}">Add comment</a>
                    {{> commentsForm}}
                  </div>
                {{/if}}
             </div>
              <div class="comments-div">
                <div class="row">
                    <div class="col-sm-8 col-sm-offset-2">
                       <div id="video-comments">
                      {{> commentsForm}}
                      {{#each videoComments userVideo._id}}
                      {{> commentsTemplate}}
                      {{/each}}
                      </div>
                     </div>
              </div>
            </div>
        </div>
      </div>
</template>


<template name="commentsTemplate">
  <div id="comments-list">
    <div id="commenter">
       <p><a href="">{{username owner}}</a></p>
    </div>
    <div id="comment-section">
      <p>{{comment}}</p>
    </div>
  </div>
</template>

<template name="commentsForm">
    <section id="comments-box">
        <div class="row">
            <div class="col-sm-8 col-sm-offset-2">
          
            {{#autoForm collection="Comments" id="insertCommentForm" type="insert"}}

            <fieldset>
            {{> afQuickField name='comment' label=false rows=1 placeholder="Share your thoughts" }}
            </fieldset>
            <div id="submit-div">
                <button type="submit" class="btn btn-primary">
                    Submit
                </button>
            </div>
            
            {{/autoForm}}

            </div>
        </div>
    </section>
</template>


